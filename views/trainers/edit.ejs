<%- layout('layouts/boilerplate') %> 

<div class="row">
    <h1 class="text-center">Editar <%=trainer.firstName%> <%= trainer.lastName %></h1>
    <div class="col-md-6 offset-md-3">
        <form action="/trainers/<%=trainer._id%>?_method=PUT"  method="POST" novalidate class="validate-form"  enctype="multipart/form-data">
            <div class="mb-2">
                <label for="firstName" class="form-label">Nombre</label>
                <input class="form-control" aria-label=".form-select-lg example" type="text" name="trainer[firstName]" id="firstName" placeholder="Nombre" value="<%= trainer.firstName %>" required>
                <div class="valid-feedback">Bien!</div>
            </div>
            <div class="mb-2">
                <label for="lastName" class="form-label">Apellido</label>
                <input class="form-control" aria-label=".form-select-lg example" type="text" name="trainer[lastName]" id="lastName" placeholder="Apellido" value="<%= trainer.lastName %>" required>
                <div class="valid-feedback">Bien!</div>
            </div>
            <div class="mb-2">
                <label for="age" class="form-label">Edad</label>
                <select name="trainer[age]" id="age" value="<%= trainer.age %>" class="col-md-1 form-select-sm mb-3" aria-label=".form-select-lg example">
                    <% for(let k = 15; k <= 70; k++ ){%>
                        <option value="<%=k%>" <%= trainer.age === k ? 'selected' : '' %> > <%=k%></option>  
                    <% } %>  
                </select>
            </div>
            <div class="mb-2">
                <label for="gender" class="form-label">Genero</label>
                <select name="trainer[gender]" id="gender" value="<%= trainer.gender %> " class="col-md-2 form-select-sm mb-3" aria-label=".form-select-lg example">
                    <% for(let g of genders){%>
                        <option value="<%=g%>" <%= trainer.gender === g ? 'selected' : '' %> > <%=g%> </option>  
                    <% } %>     
                </select>
            </div>
            <div class="mb-2">
                <label for="experience" class="form-label">Experiencia como Escalador</label>
                <select name="trainer[experience]" id="experience" value="<%= trainer.experience %>" class="form-select-sm col-md-2 mb-3" aria-label=".form-select-lg example" required>
                    <% for(let e of experience){%>
                        <option value="<%=e%>" <%= trainer.experience === e ? 'selected' : '' %> > <%=e%> </option>  
                    <% } %>  
                </select>
                <div class="invalid-feedback">
                    Please choose a username.
                </div>
            </div> 
            <div class="mb-2">
                <label for="trainingExperince" class="form-label">Experiencia como Entrenador</label>
                <select name="trainer[trainingExperince]" id="trainingExperince" value="<%= trainer.trainingExperince %>" class="form-select-sm col-md-2 mb-3" aria-label=".form-select-lg example" required>
                    <% for(let te of experience){%>
                        <option value="<%=te%>" <%= trainer.trainingExperince === te ? 'selected' : '' %> > <%=te%> </option>  
                    <% } %>  
                </select>
                <div class="invalid-feedback">
                    Please choose a username.
                </div>           
            <div class="mb-2">
                <label for="lead" class="form-label">Maximo Grado en Ruta</label>
                <select name="trainer[redpointLead]" id="lead" value="<%= trainer.redpointLead %>" class="col-md-1 form-select-sm mb-3" aria-label=".form-select-lg example">
                    <% for(let grade of grades){%>
                        <option value="<%=grade%>" <%= trainer.redpointLead === grade ? 'selected' : '' %> > <%=grade%> </option>  
                    <% } %>   
                </select>
           </div>
           <div class="mb-2">
                <label for="boulder" class="form-label">Maximo Grado en Boulder</label>
                <select name="trainer[redpointBoulder]" id="boulder" value="<%= trainer.redpointBoulder %> " class="col-md-1 form-select-sm mb-3" aria-label=".form-select-lg example">
                    <% for(let grade of gradesBoulder){%>
                        <option value="<%=grade%>" <%= trainer.redpointBoulder === grade ? 'selected' : '' %> > <%=grade%> </option>  
                    <% } %> 
                </select>
            </div>
            <div class="mb-2">
                <label for="description" class="form-label">Descripci√≥n: </label>
                <textarea class="form-control" type="text" name="trainer[description]" id="description"><%= trainer.description %></textarea>  
            </div>  
            <div class="mb-3">
                <% trainer.picture.forEach((pic, i) => { %>
                   <img src="<%= pic.thumbnail %>" alt="" class="img-thumbnail"> 
                   <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="image-<%=i%>" name="deleteImages[]" value="<%= pic.filename %>">
                   </div>
                    <label id="image-<%=i%>" class="form-check-label" for="flexCheckDefault">Borrar Imagen</label>
                <% }) %>  
            </div>
            <div class="mb-2">
                <label for="image" class="form-label">Add fotos</label>
                <input class="form-control" type="file" name="image" id="image" class="col-md-8 form-select-sm mb-3" aria-label=".form-select-lg example" multiple>
                <div class="valid-feedback">Bien!</div>
            </div>  
            <div class="d-grid gap-2 mb-2">
                <button class="btn btn-dark">Guardar Cambios</button>
            </div>
        </form> 
        <form action="/trainers/<%=trainer._id%>">
            <div class="d-grid gap-2 mb-2">
                <button class="btn btn-dark">Cancelar</button>
            </div>
        </form>       
    </div>
</div>

